{% if api_books %}
<div class="bookshelf">
    <h3>üìö –ù–∞–π–¥–µ–Ω–æ –≤ Google Books</h3>
    <div class="books-grid">
        {% for book in api_books %}
        <div class="book-card" style="background-color: {{ colors|random }};">
            <form action="{% url 'edit_book_from_api' %}" method="GET" class="book-actions">
                <input type="hidden" name="title" value="{{ book.title }}">
                <input type="hidden" name="author" value="{{ book.author }}">
                <input type="hidden" name="year" value="{{ book.year }}">
                <input type="hidden" name="cover" value="{{ book.cover }}">
                <button type="submit" class="btn btn-success">‚ûï –î–æ–±–∞–≤–∏—Ç—å</button>
            </form>
            <div class="book-cover">
                <img src="{{ book.cover }}" alt="–û–±–ª–æ–∂–∫–∞ –∫–Ω–∏–≥–∏">
            </div>
            <div class="book-info">
                <h5>{{ book.title }}</h5>
                <p class="mb-1 text-muted book-author">{{ book.author }}</p>
                {% if book.year %}
                    <p class="mb-1 text-muted">{{ book.year }}</p>
                {% endif %}
                {% if book.categories %}
                    <p class="mb-1 text-muted small">{{ book.categories|join:", " }}</p>
                {% endif %}
                {% if book.preview_link %}
                    <a href="{{ book.preview_link }}" target="_blank" class="btn btn-sm btn-info mt-2">
                        üëÅ –ü—Ä–µ–¥–ø—Ä–æ—Å–º–æ—Ç—Ä
                    </a>
                {% endif %}
            </div>
        </div>
        {% endfor %}
    </div>
</div>
{% elif query %}
<p class="text-center">–ü–æ –≤–∞—à–µ–º—É –∑–∞–ø—Ä–æ—Å—É –Ω–∏—á–µ–≥–æ –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.</p>
{% endif %} 